<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hangman | Theory of Computation</title>

    <script>
        var score = 0;
        var hangStage = 0;
        var ans_dict = {
                0: ["Saab", "Volvo", "BMW", "lhhd", "A"],
                1: ["hkh", "afdf", "sdff", "fdfd", "B"],
                2:["jdnflk", "kjhg", "kjhfkd", "iuiy", "C"],
                3:["kjbb", "iyiy", "wewer", "kjhkh", "D"]
            }
        var random_number, str_random_num, image_file_name;
        
        function loadQA(){
            random_number = Math.floor(((Math.random() * 10) + 1)%3);
            str_random_num = random_number.toString();
            image_file_name = "assets/" + str_random_num + ".png";

            // Change image and choices as per the random number
            document.getElementById("state_machine").src = image_file_name;
            document.getElementById("choice_one").innerHTML = ans_dict[random_number][0];
            document.getElementById("choice_two").innerHTML = ans_dict[random_number][1];
            document.getElementById("choice_three").innerHTML = ans_dict[random_number][2];
            document.getElementById("choice_four").innerHTML = ans_dict[random_number][3];
        }
    </script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>

  <body onload="loadQA()">
        <nav class="navbar navbar-dark bg-dark">
                <a class="navbar-brand" href="#">Hangman | Theory of Computation</a>
        </nav>

        <div class="row">
                <div class="col-sm-6">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Choose the string that is accepted by the following DFA/NFA. There is only one answer.</h5>
                      <img id="state_machine" src="assets/toc.jpg" class="img-fluid" alt="State Machine" style="width:300px;height:200px;">
                      <p id="choice_one">Choice One</p>
                      <p id="choice_two">Choice Two</p>
                      <p id="choice_three">Choice Three</p>
                      <p id="choice_four">Choice Four</p>
                      <div class="btn-group btn-group-lg" role="group">
                            <button type="button" class="btn btn-secondary" onclick="checkChoiceA()">Choice A</button>
                            <button type="button" class="btn btn-secondary" onclick="checkChoiceB()">Choice B</button>
                            <button type="button" class="btn btn-secondary" onclick="checkChoiceC()">Choice C</button>
                            <button type="button" class="btn btn-secondary" onclick="checkChoiceD()">Choice D</button>
                      </div>
                        
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title" id="score_display">Score: 0 </h5>
                      <h5 class="card-title" id="hang_stage_display">Hang Stage: 0 </h5>
                      <h5 class="card-title" id="game_stage">Game: On </h5>
                      <button class="btn btn-primary" type="submit" id="start_again" onclick="document.location.reload(true)">Start again!</button>

                      
                    </div>
                  </div>
                </div>
        </div>

        <script type="text/javascript">
             function setValue() {
                document.getElementById("demo").innerHTML = "Text is changed.";
             }

             function updateScore() {
               document.getElementById("score_display").innerHTML = "Score: " + score.toString();
             }

             function updateHangStage() {
               document.getElementById("hang_stage_display").innerHTML = "Hang Stage: " + hangStage.toString();
             }

             function checkGameStage() {
               if (hangStage >= 6) {
                document.getElementById("game_stage").innerHTML = "Game : Over!!!";
               } else {
                 loadQA();
               }
             }

             function checkChoiceA() {
               checkGameStage();
               if (ans_dict[random_number][4] == "A") {
                  score += 5;
                  updateScore();
               } else {
                 hangStage += 1;
                 updateHangStage();
               }
             }

             function checkChoiceB() {
              checkGameStage();
               if (ans_dict[random_number][4] == "B") {
                  score += 5;
                  updateScore();
               } else {
                 hangStage += 1;
                 updateHangStage();
               }
             }

             function checkChoiceC() {
              checkGameStage();
               if (ans_dict[random_number][4] == "C") {
                  score += 5;
                  updateScore();
               } else {
                 hangStage += 1;
                 updateHangStage();
               }
             }

             function checkChoiceD() {
              checkGameStage();
               if (ans_dict[random_number][4] == "D") {
                  score += 5;
                  updateScore();
               } else {
                 hangStage += 1;
                 updateHangStage();
               }
             }

             

        </script>

  </body>


</html>